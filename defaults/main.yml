---

telegraf_user:  telegraf
telegraf_group: "{{ telegraf_user }}"

telegraf_signing_key_url: "https://repos.influxdata.com/influxdb.key" 
telegraf_apt_repo: "deb https://repos.influxdata.com/{{ ansible_distribution|lower }} {{ ansible_distribution_release }} stable" 

telegraf_opts: []

################
## Configuration
#
# For further information on configuration settings, please refer to 
# https://docs.influxdata.com/telegraf/

telegraf_global_tags: {}
## telegraf_global_tags: 
##   dc: "eu-west-1"
##   rack: "1a"
##   user: "$USER"

## AGENT
telegraf_agent:
  interval: "10s"
  round_interval: true
  metric_batch_size: 1000
  metric_buffer_limit: 10000
  collection_jitter: "0s"
  flush_interval: "10s"
  flush_jitter: "0s"
  debug: false
  quiet: false
  hostname: ""
  omit_hostname: false

#############################
##  OUTPUT PLUGINS Config  ##
#############################
telegraf_outputs:     # e.g. influxdb, cloudwatch, amon etc
  - name: influxdb
    urls: [ "http://localhost:8086" ] # required
    database: "telegraf" # required
    retention_policy: "default"
    precision: "s"
    timeout: "5s"

############################
##  INPUT PLUGINS Config  ##
############################
telegraf_default_inputs:
  - name: cpu
    percpu: true
    totalcpu: true
    fielddrop: ["time_*"]
  - name: disk
    ignore_fs: ["tmpfs", "devtmpfs"]
  - name: diskio
  - name: kernel
  - name: mem
  - name: processes
  - name: swap
  - name: system
  
telegraf_inputs: []

####################################
##  SERVICE INPUT PLUGINS Config  ##
####################################
telegraf_service_inputs: []
